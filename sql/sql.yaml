# [PackageDev] target_format: plist, ext: tmLanguage
name: SQL
scopeName: source.sql
fileTypes: [sql]
uuid: 5A7EB7C0-E6BD-4A8A-A6C0-CDE3D1172900

patterns:
- include: '#comments'
- include: '#strings'

- name: constant.numeric.sql
  match: \b\d+(\.\d+)?\b

- name: constant.language.sql
  match: (?i)\b(null|true|false)\b

- match: (?i)\b(create(?:\s+or\s+replace)|alter|drop)\s+(type)\b
  captures:
    '1': {name: keyword.control.sql}
    '2': {name: storage.type.modifier.sql}

- match: (?i)\b(modify)\s+(attribute)\b
  captures:
    '1': {name: keyword.control.sql}
    '2': {name: storage.type.modifier.sql}

- name: keyword.control.sql
  match: (?i)\b(create(\s+or\s+replace)?(\s+force)?|update|delete|insert|set|alter|select|drop|commit|call|enable|add|modify)\b

- name: keyword.other.sql
  match: (?i)\b(from|where|(?:order|group)\s+by|having|into|values|distinct)\b

- name: keyword.operator.sql
  match: (?i)\b(as|of|on|in|is|and|or|not|like|asc|desc)\b

- name: keyword.operator.concat.sql
  match: \|\|

- name: keyword.operator.join.sql
  match: (?i)\b((full|left|right)\s+)?((inner|outer)\s+)?join\b

- name: keyword.other.udf.sql
  match: (?i)\b(begin|end|return|if|then|for|loop|exception|raise|when(\s+others)?|then|exit\s+when)\b

- name: storage.type.sql
  match: (?i)\b(date|timestamp|[bc]lob|number|float|varchar)\b

- name: storage.type.modifier.sql
  match: (?i)\b(table|sequence|procedure|view|(unique\s+)?index|trigger|function|cursor|(primary|foreign)\s+key|constraint)\b

- name: support.function.sql
  match: (?i)\b(count|upper|sum|max|min)(?=\()\b

- include: '#oracle'

repository:
  comments:
    patterns:
    - name: comment.line.double-dash.sql
      match: '--.*$'
    - name: comment.block.sql
      begin: /\*
      end: \*/
      captures:
        '0': {name: punctuation.definition.comment.sql}

  strings:
    patterns:
    - name: string.quoted.double.sql
      match: '".*?"'
    - name: string.quoted.double.sql
      begin: '"'
      end: '"'
    - name: string.quoted.single.sql
      match: "'.*?'"
    - name: string.quoted.single.sql
      begin: "'"
      end: "'"

  oracle:
    patterns:
    - name: support.function.oracle.sql
      match: (?i)\b(sysdate|systimestamp|decode|to_char|nvl|substr)\b
    - name: support.class.oracle.sql
      match: (?i)\b(dual)\b
    - name: storage.type.oracle.sql
      match: (?i)\b(n?varchar2|n?char|varray|object)\b
    - name: storage.type.modifier.oracle.sql
      match: (?i)\b(byte)\b
    - match: ^\s*(/)(?:\s+|$)
      captures:
        '1': {name: keyword.operator.commit.oracle.sql}
