# [PackageDev] target_format: plist, ext: tmLanguage
name: CSS
scopeName: source.css
fileTypes: [css]
uuid: ACA87C3F-31D8-4E5D-B778-4146BBF831F3

patterns:
- include: '#css'

repository:
  css:
    patterns:
    - include: '#comments'
    - include: '#rules'

  comments:
    patterns:
    - name: comment.block.css
      match: /\*.*?\*/
    - name: comment.block.css
      begin: /\*
      end: \*/

  rules:
    patterns:
    - name: meta.rule.css
      begin: (?=[\w#@.-])
      end: '}'
      patterns:
      - name: meta.selector.css
        begin: (?=[\w#@.-])
        end: (?=\s*{)
        patterns:
        - include: '#selectors'
      - contentName: meta.rule.body.css
        begin: '{'
        end: (?=})
        patterns:
        - include: '#properties'
        - include: '#css'

  selectors:
    patterns:
    - name: entity.name.tag.css
      match: '[\w-]+'
    - name: entity.name.id.css
      match: '#[\w-]+'
    - name: entity.name.class.css
      match: '\.[\w-]+'
    - name: keyword.css
      match: ':[\w-]+'
    - name: keyword.css
      match: '@[\w-]+'

  properties:
    patterns:
    - name: meta.property.css
      contentName: meta.property.value.css
      begin: '([\w-]+)\s*:\s*'
      end: '\s*;'
      beginCaptures:
        '1': {name: entity.name.key}
      patterns:
      - name: keyword.other.important.css
        match: '!important'
      - name: constant.numeric.css
        match: '-?\d+(?:\.\d+)?(%|px|em|s)?'
        captures:
          '1': {name: storage.modifier.css}
      - name: support.function.css
        match: \b(rgba?)\b
      - name: support.constant.css
        match: '[\w-]+'
      - name: string.quoted.css
        match: '".*?"'
